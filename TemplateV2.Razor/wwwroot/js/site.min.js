WebFontConfig={google:{families:["Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"]}},function(t){var e=t.createElement("script"),o=t.scripts[0];e.src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js",e.async=!0,o.parentNode.insertBefore(e,o)}(document),TOAST_DELAY_SECONDS=6,IDLE_SECONDS=0,IDLE_TIMEOUT_SECONDS=120,IDLE_TIMEOUT_MODAL_SECONDS=IDLE_TIMEOUT_SECONDS-30,AUTO_LOGOUT_IS_ENABLED=!1,IS_BEATING=!1,HEARTBEAT_INTERVAL=5e3;const NotifcationType={INFORMATION:1,SUCCESS:2,WARNING:3,ERROR:4},second=1e3,minute=60*second;function GlobalViewModel(t,e){var o=JSON.parse(t).Items;TOAST_DELAY_SECONDS=o.filter(function(t){return"TOAST_DELAY_SECONDS"===t.Key})[0].Int_Value,IDLE_TIMEOUT_SECONDS=o.filter(function(t){return"IDLE_TIMEOUT_SECONDS"===t.Key})[0].Int_Value,IDLE_TIMEOUT_MODAL_SECONDS=o.filter(function(t){return"IDLE_TIMEOUT_MODAL_SECONDS"===t.Key})[0].Int_Value,AUTO_LOGOUT_IS_ENABLED=o.filter(function(t){return"AUTO_LOGOUT_IS_ENABLED"===t.Key})[0].Boolean_Value;var n=""===e||void 0===e?[]:JSON.parse(e);this.initialise=function(){$(document).ready(function(){$(n).each(function(t,e){showNotification(e.Message,e.Type,!0)}),$('[data-toggle="tooltip"]').tooltip(),$(".selectpicker").on("changed.bs.select",function(){var t=$(this).parent(".dropdown").siblings(".selectpicker-data");t.empty();var e=$(this).attr("id").replace("_",".");$(this).val().forEach(function(o){t.append("<input type='hidden' name='"+e+"' value="+o+"></div>")})}),$(".datetimepicker-input").keydown(function(t,e){return t.preventDefault(),(!1)()}),$(".input-only-number").keydown(function(t,e){return!!/^\d*$/.test(value)||(t.preventDefault(),(!1)())}),$(".modal").on("show.bs.modal",function(t){var e=$(t.relatedTarget).data("target-id");$(this).find('input[type=hidden][name="Id"]').val(e)}),$(".datepicker").datetimepicker({format:"DD/MM/YYYY"}),$(".timepicker").datetimepicker({format:"hh:mm A"}),$(".datetimepicker").datetimepicker({format:"DD/MM/YYYY hh:mm A"}),$(".datepicker, .datetimepicker, .datepicker").on("change.datetimepicker",function(t){t.date&&$(this).attr("data-date",moment(t.date).format("DD/MMMM/YYYY"))}),$.fn.dataTable&&($.fn.dataTable.ext.errMode=function(t,e,o){showNotification(o,NotifcationType.ERROR,!1),console.log(o)}),!0===AUTO_LOGOUT_IS_ENABLED&&enableAutoLogout(IDLE_TIMEOUT_MODAL_SECONDS,IDLE_TIMEOUT_SECONDS)})}}function heartbeat(){!1===IS_BEATING&&(IS_BEATING=!0,$.ajax("/Session/Heartbeat"),setTimeout(function(){IS_BEATING=!1},HEARTBEAT_INTERVAL))}function enableAutoLogout(t,e){var o=(new Date).getTime()+1e3*e;if($("#modalAutoLogout")[0]){var n=!1;$(this).mousemove(function(t){!1===i()&&a(e)}),$(this).keypress(function(t){!1===i()&&a(e)}),$("#btnDismissAutoLogout").click(function(){a(e)}),setInterval(function(){if(IDLE_SECONDS++,IDLE_SECONDS>=t){$("#modalAutoLogout").modal({backdrop:"static",keyboard:!1});var e=Math.floor((o-(new Date).getTime())%minute/second);if(e<0&&!1===n)return e=0,n=!0,void(window.location="/Account/Logout");document.getElementById("txtAutoLogoutSecondsRemaining").innerText=e}},1e3)}function i(){return $("#modalAutoLogout").is(":visible")}function a(t){o=(new Date).getTime()+1e3*t,IDLE_SECONDS=0,heartbeat()}}function showNotification(t,e,o){var n="",i="";e!==NotifcationType.INFORMATION&&1!==e||(n="bg-primary",i="Information"),e!==NotifcationType.SUCCESS&&2!==e||(n="bg-success",i="Success"),e!==NotifcationType.WARNING&&3!==e||(n="bg-warning",i="Warning"),e!==NotifcationType.ERROR&&4!==e||(n="bg-danger",i="Error"),$("#notifications-container").append('<div class="toast ml-auto m-4" role="alert"><div class="toast-header '+n+'"><strong class="mr-auto text-white">'+i+'</strong><button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div><div class="toast-body">'+t+"</div></div>"),$(".toast:last").toast({autohide:o,delay:1e3*TOAST_DELAY_SECONDS}).toast("show")}function resetToolTips(){$('[data-toggle="tooltip"]').tooltip("update")}function buildTooltipList(t){var e="",o=[];for(var n in t)t.hasOwnProperty(n)&&o.push("<li><strong>"+n+":&nbsp;</strong>"+t[n]+"</li>");return o.length>0&&(e="<ul class='tooltip-list'>",$(o).each(function(t,o){e+=o}),e+="</ul>"),e}function getLastActionDate(t,e){var o=t.last_Session_Event_Date?new Date(t.last_Session_Event_Date):null,n=t.last_Session_Log_Date?new Date(t.last_Session_Log_Date):null,i="";if(o&&n)i=o>n?o:n;else if(o)i=o;else if(n)i=n;else{var a=new Date(t.entity.created_Date);i=new Date(a.setMinutes(a.getMinutes()+e))}return i}
//# sourceMappingURL=site.min.js.map
